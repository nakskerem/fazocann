<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ƒ∞yi ki Doƒüdun Fazocan!</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">

<style>
body {
  margin:0;
  padding:0 10px;
  font-family:'Poppins', sans-serif;
  background:linear-gradient(135deg,#fdfdfd,#e6f0ff);
  display:flex;
  flex-direction:column;
  align-items:center;
  min-height:100vh;
  overflow-x:hidden;
}
h1 {
  margin-top:40px;
  color:#333;
  font-size:2em;
  text-align:center;
  text-shadow:0 2px 5px rgba(0,0,0,0.15);
  word-break: break-word;
}
#instruction {
  margin-top:10px;
  font-size:1em;
  color:#222;
  background:rgba(255,255,255,0.9);
  padding:6px 10px;
  border-radius:8px;
  box-shadow:0 2px 6px rgba(0,0,0,0.15);
  text-align:center;
  max-width:90%;
}
#cake {
  position: relative;
  margin:20px auto;
  width:90%;
  max-width:380px;
  height:180px;
  background:#fff;
  border-radius:25px;
  box-shadow:0 15px 30px rgba(0,0,0,0.2);
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  padding:15px;
}
.candle {
  position:relative;
  width:12px;
  height:60px;
  background:linear-gradient(to top,#ffd54f,#ffca28);
  border-radius:6px;
  cursor:pointer;
  display:flex;
  justify-content:center;
}
.flame {
  position:absolute;
  top:-20px;
  width:12px;
  height:20px;
  background:radial-gradient(circle,#ffeb3b 0%,#ff9800 60%,rgba(255,152,0,0) 100%);
  border-radius:50%;
  animation:flicker .2s infinite alternate;
  transform-origin:bottom center;
}
@keyframes flicker {
  0%{transform:scaleY(1) rotate(0deg);opacity:1;}
  100%{transform:scaleY(.85) rotate(2deg);opacity:.8;}
}
#letterBtn {
  margin-top:20px;
  padding:10px 20px;
  font-size:1em;
  border:none;
  border-radius:12px;
  background:linear-gradient(135deg,#ff6b6b,#ff4757);
  color:white;
  cursor:pointer;
  box-shadow:0 4px 12px rgba(0,0,0,0.2);
  transition:.3s;
}
#letterBtn:hover{transform:scale(1.05);}
#message {
  display:none;
  margin-top:15px;
  background:rgba(255,255,255,0.95);
  padding:15px 20px;
  border-radius:15px;
  font-size:1.1em;
  color:#333;
  box-shadow:0 6px 20px rgba(0,0,0,0.2);
  max-width:95%;
  text-align:center;
  word-break: break-word;
}
#surprise {
  display:none;
  margin-top:15px;
  font-size:1.2em;
  color:#ff6b6b;
  font-weight:bold;
  text-align:center;
}
#choiceBtn {
  display:block;
  margin-top:15px;
  padding:10px 20px;
  font-size:1em;
  border:none;
  border-radius:12px;
  background:#4b7bec;
  color:white;
  cursor:pointer;
  box-shadow:0 3px 8px rgba(0,0,0,0.15);
}
#choiceBox {
  display:none;
  margin-top:15px;
  background:white;
  padding:15px;
  border-radius:15px;
  box-shadow:0 4px 15px rgba(0,0,0,0.15);
  text-align:center;
}
.optionBtn {
  margin:5px;
  padding:10px 15px;
  border:none;
  border-radius:10px;
  cursor:pointer;
  color:white;
  font-size:0.9em;
  transition:0.3s;
}
.optionBtn.a { background:#4b7bec; }
.optionBtn.b { background:#ff6b6b; }

.optionBtn.selected {
  transform: scale(1.08);
  box-shadow: 0 0 12px rgba(255,255,255,0.8);
  outline: 3px solid #fff;
}
.optionBtn.disabled {
  opacity:0.4;
  pointer-events:none;
}

#afterChoice {
  display:none;
  margin-top:15px;
  font-size:1.2em;
  color:#333;
  font-weight:600;
  text-align:center;
}

#giftBtn {
  margin-top:20px;
  padding:10px 18px;
  border:none;
  border-radius:12px;
  background:#ff9ff3;
  color:white;
  font-weight:600;
  cursor:pointer;
  box-shadow:0 3px 10px rgba(0,0,0,0.2);
  transition:.3s;
}
#giftBtn:hover{ transform:scale(1.05); }

canvas {
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  pointer-events:none;
  z-index:999;
}
</style>
</head>
<body>

<h1>üéâ ƒ∞yi ki Doƒüdun Fazocan! üéÇ</h1>
<div id="instruction">Dileƒüini dile ve tƒ±klayarak s√∂nd√ºr</div>

<div id="cake"></div>

<button id="letterBtn">Mektup A√ß</button>
<div id="message">Doƒüum g√ºn√ºn kutlu dostluƒüumuz daim olsun. Hep olman, hep iyi ki olman dileƒüiyle‚Ä¶</div>

<div id="surprise">1 s√ºrprizim daha var. √ñnce se√ßimini yap.</div>
<button id="choiceBtn">Se√ßim Yap</button>

<div id="choiceBox">
  <p style="font-weight:600;margin-bottom:10px;">Bir s√∂z se√ß:</p>
  <button class="optionBtn a" data-value="G√ºn√ºn kutlu dostluƒüumuz daim olsun">
    A: G√ºn√ºn kutlu dostluƒüumuz daim olsun
  </button>
  <button class="optionBtn b" data-value="Hep olman hep iyi ki olman dileƒüiyle">
    B: Hep olman hep iyi ki olman dileƒüiyle
  </button>
</div>

<div id="afterChoice">≈ûimdi se√ßimini bana yaz</div>

<button id="giftBtn">üéÅ</button>

<canvas id="animationCanvas"></canvas>

<script>
const cake=document.getElementById('cake');
const letterBtn=document.getElementById('letterBtn');
const message=document.getElementById('message');
const surprise=document.getElementById('surprise');
const choiceBtn=document.getElementById("choiceBtn");
const choiceBox=document.getElementById("choiceBox");
const afterChoice=document.getElementById("afterChoice");
const giftBtn=document.getElementById("giftBtn");
const canvas=document.getElementById('animationCanvas');
const ctx=canvas.getContext('2d');
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

// ---- Mumlar ----
let candlesLit=19;
for(let i=0;i<19;i++){
  const candle=document.createElement('div');
  candle.classList.add('candle');
  const flame=document.createElement('div');
  flame.classList.add('flame');
  candle.appendChild(flame);
  cake.appendChild(candle);

  candle.addEventListener('click',()=>{
    if(flame.style.display!=='none'){
      flame.style.display='none';
      candlesLit--;
      if(candlesLit===0){
        startConfetti();
        launchBalloons();
        surprise.style.display='block';
      }
    }
  });
}

// ---- Konfeti ve Balon ----
const confettiParticles=[];
const balloons=[];
function startConfetti(){
  for(let i=0;i<150;i++){
    confettiParticles.push({
      x:Math.random()*canvas.width,
      y:Math.random()*canvas.height-200,
      size:Math.random()*7+3,
      speed:Math.random()*3+2,
      angle:Math.random()*360,
      color:`hsl(${Math.random()*360},100%,50%)`,
    });
  }
  for(let i=0;i<12;i++){
    balloons.push({
      x:Math.random()*(canvas.width-100)+50,
      y:canvas.height+50+Math.random()*100,
      radiusX:25,
      radiusY:35,
      speed:1+Math.random()*1.3,
      color:'#ff6b6b',
      sway:2+Math.random()*1,
      swayDir:Math.random()<0.5?-1:1
    });
  }
  requestAnimationFrame(animationLoop);
}

// ---- Hediye Paketi (√ßi√ßek + kalp) ----
let flowers=[];
let hearts=[];
giftBtn.addEventListener("click",()=>{
  for(let i=0;i<22;i++){
    flowers.push(createFlower());
    hearts.push(createHeart());
  }
  animateGift();
});

function createFlower(){
  return {
    x:Math.random()*canvas.width,
    y:canvas.height+50,
    speed:1.2+Math.random()*1,
    size:18+Math.random()*8,
    color:`hsl(${Math.random()*40+330},80%,70%)`,
    rotation:Math.random()*360
  };
}
function createHeart(){
  return {
    x:Math.random()*canvas.width,
    y:canvas.height+60,
    speed:1+Math.random()*1,
    size:20+Math.random()*12,
    color:"rgba(255,182,193,0.9)",
    outline:"rgba(255,255,255,0.9)",
    rotation:Math.random()*360
  };
}
function drawHeart(h){
  ctx.save();
  ctx.translate(h.x,h.y);
  ctx.rotate(h.rotation*Math.PI/180);
  ctx.scale(h.size/50,h.size/50);
  ctx.beginPath();
  ctx.moveTo(0,15);
  ctx.bezierCurveTo(25,-15,50,10,0,50);
  ctx.bezierCurveTo(-50,10,-25,-15,0,15);
  ctx.fillStyle=h.color;
  ctx.fill();
  ctx.lineWidth=3;
  ctx.strokeStyle=h.outline;
  ctx.stroke();
  ctx.restore();
}
function drawFlower(f){
  ctx.save();
  ctx.translate(f.x,f.y);
  ctx.rotate(f.rotation*Math.PI/180);
  for(let i=0;i<5;i++){
    ctx.rotate((Math.PI*2)/5);
    ctx.beginPath();
    ctx.ellipse(0,f.size/2,f.size/3,f.size/1.6,0,0,Math.PI*2);
    ctx.fillStyle=f.color;
    ctx.fill();
  }
  ctx.beginPath();
  ctx.arc(0,0,f.size/4,0,Math.PI*2);
  ctx.fillStyle="#fff8f8";
  ctx.fill();
  ctx.restore();
}
function animateGift(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  flowers.forEach(f=>{
    f.y-=f.speed;
    f.rotation+=1;
    drawFlower(f);
  });
  hearts.forEach(h=>{
    h.y-=h.speed;
    h.rotation+=1.2;
    drawHeart(h);
  });
  flowers=flowers.filter(f=>f.y>-50);
  hearts=hearts.filter(h=>h.y>-50);
  if(flowers.length>0 || hearts.length>0){
    requestAnimationFrame(animateGift);
  }
}

// ---- Ana Animasyon ----
function animationLoop(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  confettiParticles.forEach(p=>{
    ctx.save();
    ctx.fillStyle=p.color;
    ctx.translate(p.x,p.y);
    ctx.rotate(p.angle*Math.PI/180);
    ctx.fillRect(-p.size/2,-p.size/2,p.size,p.size);
    ctx.restore();
    p.y+=p.speed;
    p.angle+=2;
    if(p.y>canvas.height)p.y=0;
  });
  balloons.forEach(b=>{
    b.x+=Math.sin(b.y/60)*b.swayDir*b.sway;
    b.y-=b.speed;
    ctx.beginPath();
    ctx.ellipse(b.x,b.y,b.radiusX,b.radiusY,0,0,Math.PI*2);
    ctx.fillStyle=b.color;
    ctx.fill();
    ctx.beginPath();
    ctx.moveTo(b.x,b.y+b.radiusY);
    ctx.lineTo(b.x,b.y+b.radiusY+30);
    ctx.strokeStyle="#555";
    ctx.stroke();
  });
  requestAnimationFrame(animationLoop);
}

// ---- Mektup ----
letterBtn.addEventListener('click',()=>{
  message.style.display=message.style.display==='block'?'none':'block';
});

// ---- Se√ßim Sistemi (se√ßildi efekti + diƒüer yarƒ± saydam) ----
let selectedOption=null;

choiceBtn.addEventListener("click",()=>{ choiceBox.style.display="block"; });

document.querySelectorAll(".optionBtn").forEach(btn=>{
  btn.addEventListener("click",()=>{
    if(selectedOption) return;
    btn.classList.add("selected");
    selectedOption=btn;

    document.querySelectorAll(".optionBtn").forEach(other=>{
      if(other!==btn) other.classList.add("disabled");
    });

    afterChoice.style.display="block"; // yazƒ± √ßƒ±kƒ±yor
  });
});
</script>

</body>
</html>
